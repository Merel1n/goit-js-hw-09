{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const STORAGE_KEY = 'feedback-form-state';\nconst form = document.querySelector('.feedback-form');\nconst textarea = document.querySelector('textarea');\n\nfunction saveToLS(key, value) {\n  const jsonData = JSON.stringify(value);\n  localStorage.setItem(key, jsonData);\n}\n\nfunction loadFromLS(key) {\n  const json = localStorage.getItem(key);\n  try {\n    const data = JSON.parse(json);\n    return data;\n  } catch {\n    return json;\n  }\n}\n\nform.addEventListener('input', () => {\n  const formDataUser = new FormData(form);\n\n  const email = formDataUser.get('email');\n  const message = formDataUser.get('message');\n  const formData = {\n    email,\n    message,\n  };\n  saveToLS('feedback-form-state', formData);\n});\n\nform.addEventListener('submit', event => {\n  event.preventDefault();\n  const formDataUser = new FormData(form);\n\n  const email = formDataUser.get('email').trim();\n  const message = formDataUser.get('message').trim();\n  const formData = {\n    email,\n    message,\n  };\n  if (!email || !message) {\n    alert('Fill please all fields');\n  } else {\n    console.log(formData);\n    form.reset();\n    localStorage.removeItem('feedback-form-state');\n  }\n});\n\nwindow.addEventListener('DOMContentLoaded', () => {\n  const formData = loadFromLS('feedback-form-state');\n\n  form.elements.email.value = formData?.email ?? '';\n  form.elements.message.value = formData?.message ?? '';\n});\n"],"names":["form","saveToLS","key","value","jsonData","loadFromLS","json","formDataUser","email","message","event","formData"],"mappings":"wFACA,MAAMA,EAAO,SAAS,cAAc,gBAAgB,EACnC,SAAS,cAAc,UAAU,EAElD,SAASC,EAASC,EAAKC,EAAO,CAC5B,MAAMC,EAAW,KAAK,UAAUD,CAAK,EACrC,aAAa,QAAQD,EAAKE,CAAQ,CACpC,CAEA,SAASC,EAAWH,EAAK,CACvB,MAAMI,EAAO,aAAa,QAAQJ,CAAG,EACrC,GAAI,CAEF,OADa,KAAK,MAAMI,CAAI,CAEhC,MAAU,CACN,OAAOA,CACR,CACH,CAEAN,EAAK,iBAAiB,QAAS,IAAM,CACnC,MAAMO,EAAe,IAAI,SAASP,CAAI,EAEhCQ,EAAQD,EAAa,IAAI,OAAO,EAChCE,EAAUF,EAAa,IAAI,SAAS,EAK1CN,EAAS,sBAJQ,CACf,MAAAO,EACA,QAAAC,CACJ,CAC0C,CAC1C,CAAC,EAEDT,EAAK,iBAAiB,SAAUU,GAAS,CACvCA,EAAM,eAAc,EACpB,MAAMH,EAAe,IAAI,SAASP,CAAI,EAEhCQ,EAAQD,EAAa,IAAI,OAAO,EAAE,KAAI,EACtCE,EAAUF,EAAa,IAAI,SAAS,EAAE,KAAI,EAK5C,CAACC,GAAS,CAACC,EACb,MAAM,wBAAwB,GAE9B,QAAQ,IAPO,CACf,MAAAD,EACA,QAAAC,CACJ,CAIwB,EACpBT,EAAK,MAAK,EACV,aAAa,WAAW,qBAAqB,EAEjD,CAAC,EAED,OAAO,iBAAiB,mBAAoB,IAAM,CAChD,MAAMW,EAAWN,EAAW,qBAAqB,EAEjDL,EAAK,SAAS,MAAM,OAAQW,GAAA,YAAAA,EAAU,QAAS,GAC/CX,EAAK,SAAS,QAAQ,OAAQW,GAAA,YAAAA,EAAU,UAAW,EACrD,CAAC"}